![Foodgram Action](https://github.com/Demiat/foodgram/actions/workflows/main.yml/badge.svg?event=push)

# О Проекте

Foodgram (https://100yp.ddns.net) - это проект, на котором пользователи могут публиковать свои рецепты, добавлять чужие рецепты в избранное и подписываться на публикации других авторов. Зарегистрированным пользователям также доступен сервис «Список покупок». 

## Доступный функционал

Зарегистрированные пользователи могут:
- добавлять рецепты
- подписываться на других авторов рецептов
- добавлять рецепты в избранное
- добавлять рецепты в список покупок и скачивать файл


# Стек и развёртывание проекта на продакш-сервере

Внимание! Проект работает с версией Python 9 или 10

Для работы проекта необходимо, чтобы на Вашем сервере был установлен
docker (https://docs.docker.com/engine/install/ubuntu/)
и корневой веб-сервер для проксирования потока в проект.

Проект представляет из себя 4 контейнера docker, логически
связанных между собой сетью докера (compose) и проксированием между ними nginx:
- backend: django приложение бэкенда
- frontend: SPA-приложение на React
- db: база данных Postgres
- gateway: nginx веб-сервер


## Развёртывание проекта

1) Скопировать файл docker-compose.production.yml
в целевую директорию на Вашем сервере

2) Создать файл с переменными окружения .env со следующими полями:

- Если планируется использование Postgres, иначе SQLite

USE_POSTGRES=True

- Заполняется для использования Postgres

POSTGRES_DB=<имя базы>
POSTGRES_USER=<пользователь postgres>
POSTGRES_PASSWORD=<пароль пользователя postgres>
DB_HOST=<имя хоста базы>
DB_PORT=<порт базы>
DB_NAME=<имя базы>

- Остальные настройки для settings.py Django-приложения

SECRET_KEY=<секретный ключ django-приложения, взять из settings.py>
ALLOWED_HOSTS=<список разрешенных хостов, без пробелов через запятую>
DEBUG=<False или True> 

## Ручной запуск

- sudo docker compose -f docker-compose.production.yml pull
- sudo docker compose -f docker-compose.production.yml up -d

## Автоматизированный запуск

- При команде git push в ветку main проект тестируется 
и разворачивается автоматически.
- При git push в иную ветку производится только тестирование.

## Дополнительная информация

Управление проектом доступно по REST API.
Документация к API доступна по адресам:
- https://100yp.ddns.net/swagger/
- https://100yp.ddns.net/redoc/


Автор: Тарасов Дмитрий (https://github.com/Demiat)